(()=>{"use strict";const e=(e,t="metric")=>{const i="metric"===t?"°C":"°F",n="metric"===t?"km/h":"mph";document.querySelector(".weather").innerHTML=`\n  <div class="weather-header">\n    <div class="weather-conditions">${e.conditions}</div>\n    <div class="weather-location">${e.location}</div>\n    \n  </div>\n  <div class="weather-content">\n  <div class="weather-temperature">${e.temperature}<span>${i}</span></div>\n    <div class="weather-content-details">\n      <div class="weather-feelslike">Feels Like: ${e.feelsLike}<span>${i}</span></div>\n      <div class="weather-windspeed">Wind: ${e.windSpeed} <span>${n}</span></div>\n      <div class="weather-humidity">Humidity: ${e.humidity}%</div>\n    </div>\n  </div>\n`},t=()=>{const e=(()=>{const e=document.createElement("div");return e.className="loader",e})(),t=document.querySelector(".weather");t.innerHTML="",t.appendChild(e)},i=e=>1.8*e+32,n=e=>5/9*(e-32),s=e=>1.60934*e,a=e=>e/1.60934,r=(e,t)=>{const s={metric:n,us:i};return s[t]?Math.round(10*s[t](e))/10:"Invalid measurement unit"};(()=>{let i="metric",n={location:"Jakarta, Indonesia",conditions:"Rain, Partially cloudy",temperature:30,feelsLike:37.3,windSpeed:11.2,humidity:79.2};t(),setTimeout((()=>{e(n)}),1e3),document.querySelector("form").addEventListener("submit",(async s=>{s.preventDefault(),t();const a=s.target.querySelector("input#search");n=await(async(e,t)=>{if(!e||""===e.trim())throw new Error("Location is missing!");const i=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}/today?unitGroup=${t}&include=current&key=7V89SJU8YEMTJ6L6V5ZUAES3E&contentType=json`;try{const e=await fetch(i);if(!e.ok)throw new Error(`Response status: ${e.status}`);return(e=>{const{resolvedAddress:t,currentConditions:i}=e,{conditions:n,temp:s,feelslike:a,windspeed:r,humidity:c}=i;return{location:t,conditions:n,temperature:s,feelsLike:a,windSpeed:r,humidity:c}})(await e.json())}catch(e){console.error(e.message)}})(a.value.trim(),i),e(n)})),document.querySelector(".convert-button-group").addEventListener("click",(t=>{!t.target.classList.contains("active")&&t.target.classList.contains("convert-button")&&(t.target.previousElementSibling?.classList.contains("active")&&t.target.previousElementSibling.classList.remove("active"),t.target.nextElementSibling?.classList.contains("active")&&t.target.nextElementSibling.classList.remove("active"),t.target.classList.add("active"),n.temperature=r(n.temperature,t.target.dataset.unit),n.feelsLike=r(n.feelsLike,t.target.dataset.unit),n.windSpeed=((e,t)=>{const i={metric:s,us:a};return i[t]?Math.round(10*i[t](e))/10:"Invalid measurement unit"})(n.windSpeed,t.target.dataset.unit),i=t.target.dataset.unit,e(n,t.target.dataset.unit))}))})()})();